<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Show Real-Time QC Test Results For an Argo Object — showQCTests • argoFloats</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Show Real-Time QC Test Results For an Argo Object — showQCTests"><meta property="og:description" content="showQCTests prints a summary of the quality-control (QC) tests
(if any) that were performed on an Argo profile in real-time (Caution: any tests completed and/or failed on delayed
mode data are not recorded. This function also assumes tests performed
or failed are recorded once, otherwise it produces
a warning).  It uses
hexToBits() to decode the hexadecimal  values that may
be stored in historyQCTest. From there it pairs the determined
test values with the appropriate actions, QC Tests performed or QC
Tests failed, found in historyAction within the metadata slot
of an individual Argo profile, as read directly with oce::read.argo()
or indirectly with readProfiles(), the latter being illustrated in the
&amp;#8220;Examples&amp;#8221; section below.  The &amp;#8220;Details&amp;#8221;
section provides an explanation of how showQCTests works
at a low level, as an adjunct to the Argo documentation.
See section 3.3 of Kelley et al. (2021) for more on this function."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">argoFloats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/argoFloats.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/qc.html">Handling Quality Control Flags and Adjusted Data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ArgoCanada/argoFloats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Show Real-Time QC Test Results For an Argo Object</h1>
    <small class="dont-index">Source: <a href="https://github.com/ArgoCanada/argoFloats/blob/HEAD/R/qc.R" class="external-link"><code>R/qc.R</code></a></small>
    <div class="hidden name"><code>showQCTests.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>showQCTests</code> prints a summary of the quality-control (QC) tests
(if any) that were performed on an Argo profile in real-time (<strong>Caution</strong>: any tests completed and/or failed on delayed
mode data are not recorded. This function also assumes tests performed
or failed are recorded once, otherwise it produces
a warning).  It uses
<code><a href="hexToBits.html">hexToBits()</a></code> to decode the hexadecimal  values that may
be stored in <code>historyQCTest</code>. From there it pairs the determined
test values with the appropriate actions, QC Tests performed or QC
Tests failed, found in <code>historyAction</code> within the <code>metadata</code> slot
of an individual Argo profile, as read directly with <code><a href="https://dankelley.github.io/oce/reference/read.argo.html" class="external-link">oce::read.argo()</a></code>
or indirectly with <code><a href="readProfiles.html">readProfiles()</a></code>, the latter being illustrated in the
“Examples” section below.  The “Details”
section provides an explanation of how <code>showQCTests</code> works
at a low level, as an adjunct to the Argo documentation.
See section 3.3 of Kelley et al. (2021) for more on this function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">showQCTests</span><span class="op">(</span><span class="va">x</span>, style <span class="op">=</span> <span class="st">"brief"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>an <a href="https://dankelley.github.io/oce/reference/argo-class.html" class="external-link">oce::argo</a> object, as read directly with <code><a href="https://dankelley.github.io/oce/reference/read.argo.html" class="external-link">oce::read.argo()</a></code>
or as extracted from the return value of a call to <code><a href="readProfiles.html">readProfiles()</a></code>, as
in the “Examples”.</p></dd>


<dt>style</dt>
<dd><p>a character value governing the output printed by <code>showQCFlags</code>,
either <code>"brief"</code> (the default) for a single line stating all the tests by
numbers, followed by lines giving the number and description of all failed tests,
or <code>"full"</code> for a listing of each test that was performed, with an indication
of whether <code>x</code> passes or fails it.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>This function returns nothing; its action is in the printing
of results.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The format used in the <code>historyQCTest</code> and <code>historyAction</code>
elements of the <code>metadata</code> slot of an <a href="https://dankelley.github.io/oce/reference/argo-class.html" class="external-link">oce::argo</a> object
is mentioned in Sections 2.2.7, 2.3.7, 5.1, 5.3 and 5.4
of Carval et al. (2019), in which they are called
<code>HISTORY_QCTEST</code> and <code>HISTORY_ACTION</code>, respectively.
Both of these things are vectors of character values,
with the entries within <code>historyAction</code> providing names for
the entries within <code>historyQCTest</code>.</p>
<p>In the context of <code>showQCTests</code>, the focus is on the element
of <code>historyAction</code> that equals <code>"QCP$"</code> (which maps to the element
of <code>historyQCTest</code> that specifies the QC tests that were
performed) and <code>"QCF$"</code> (which maps to the results of those
tests).  These mapped elements are character values providing
hexadecimal digits that are decoded with <code><a href="hexToBits.html">hexToBits()</a></code>, possibly after
lengthening the <code>historyQCTest</code> value matching<code>"QCF$"</code> by adding <code>"0"</code> digits
on the left to make the length be the same as that of the
<code>historyQCTest</code> value matching `"QCP$".</p>
<p>The bits decoded from the relevant elements of <code>historyQCTest</code>
correspond to QC tests as indicated in the following table.
This is based on Table 11 of Carval et al. (2019),
after correcting the "Number" for test 18 from
261144 to 262144, because the former is not an
integral power of 2, suggesting a typo
in the manual (since the whole point of the numerical scheme
is that the individual bits map to individual tests).</p><table class="table table"><tr><td>Test</td><td>Number</td><td>Meaning</td></tr><tr><td>1</td><td>2</td><td>Platform Identification test</td></tr><tr><td>2</td><td>4</td><td>Impossible Date test</td></tr><tr><td>3</td><td>8</td><td>Impossible Location test</td></tr><tr><td>4</td><td>16</td><td>Position on Land test</td></tr><tr><td>5</td><td>32</td><td>Impossible Speed test</td></tr><tr><td>6</td><td>64</td><td>Global Range test</td></tr><tr><td>7</td><td>128</td><td>Regional Global Parameter test</td></tr><tr><td>8</td><td>256</td><td>Pressure Increasing test</td></tr><tr><td>9</td><td>512</td><td>Spike test</td></tr><tr><td>10</td><td>1024</td><td>Top and Bottom Spike test (obsolete)</td></tr><tr><td>11</td><td>2048</td><td>Gradient test</td></tr><tr><td>12</td><td>4096</td><td>Digit Rollover test</td></tr><tr><td>13</td><td>8192</td><td>Stuck Value test</td></tr><tr><td>14</td><td>16384</td><td>Density Inversion test</td></tr><tr><td>15</td><td>32768</td><td>Grey List test</td></tr><tr><td>16</td><td>65536</td><td>Gross Salinity or Temperature Sensor Drift test</td></tr><tr><td>17</td><td>131072</td><td>Visual QC test</td></tr><tr><td>18</td><td>262144</td><td>Frozen profile test</td></tr><tr><td>19</td><td>524288</td><td>Deepest pressure test</td></tr><tr><td>20</td><td>1048576</td><td>Questionable Argos position test</td></tr><tr><td>21</td><td>2097152</td><td>Near-surface unpumped CTD salinity test</td></tr><tr><td>22</td><td>4194304</td><td>Near-surface mixed air/water test</td></tr><tr><td>23</td><td>8388608</td><td>Interim rtqc flag scheme for data deeper than 2000 dbar</td></tr><tr><td>24</td><td>16777216</td><td>Interim rtqc flag scheme for data from experimental sensors</td></tr><tr><td>25</td><td>33554432</td><td>MEDD test</td></tr></table></div>
    <div id="references">
    <h2>References</h2>
    <p>Carval, Thierry, Bob Keeley, Yasushi Takatsuki, Takashi Yoshida, Stephen Loch,
Claudia Schmid, and Roger Goldsmith. Argo User's Manual V3.3. Ifremer, 2019.
<code>doi:10.13155/29825</code></p>
<p>Kelley, D. E., Harbin, J., &amp; Richards, C. (2021). argoFloats: An R package for analyzing
Argo data. Frontiers in Marine Science, (8), 636922.
<a href="https://doi.org/10.3389/fmars.2021.635922" class="external-link">doi:10.3389/fmars.2021.635922</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Jaimie Harbin and Dan Kelley</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ArgoCanada/argoFloats" class="external-link">argoFloats</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="readProfiles.html">readProfiles</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"D4900785_048.nc"</span>, package<span class="op">=</span><span class="st">"argoFloats"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">showQCTests</span><span class="op">(</span><span class="va">a</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tests performed: 2 3 4 5 6 7 8 9 10 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Passed all real-time tests</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Jaimie Harbin.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

