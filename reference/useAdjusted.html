<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Switch [[ Focus to Adjusted data — useAdjusted • argoFloats</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Switch [[ Focus to Adjusted data — useAdjusted" />
<meta property="og:description" content="This function returns a version of x for which the enclosed
oce::argo objects are modified in a way that makes
future uses of [[,argoFloats-method
return the adjusted data, not the original data.
NOTE: For this to work, the version 1.3.0 or greater
of oce must be installed, and, as of September 2020,
that means that the user will need to install oce from
github.com/dankelley/oce, not from CRAN." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">argoFloats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/argoFloats.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/qc.html">Handling Quality Control Flags and Adjusted Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ArgoCanada/argoFloats/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Switch [[ Focus to Adjusted data</h1>
    <small class="dont-index">Source: <a href='https://github.com/ArgoCanada/argoFloats/blob/master/R/misc.R'><code>R/misc.R</code></a></small>
    <div class="hidden name"><code>useAdjusted.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function returns a version of <code>x</code> for which the enclosed
<a href='https://dankelley.github.io/oce/reference/argo-class.html'>oce::argo</a> objects are modified in a way that makes
future uses of <code><a href='[[,argoFloats-method.html'>[[,argoFloats-method</a></code>
return the <em>adjusted</em> data, not the original data.
<strong>NOTE:</strong> For this to work, the version 1.3.0 or greater
of <a href='https://CRAN.R-project.org/package=oce'><span class="pkg">oce</span></a> must be installed, and, as of September 2020,
that means that the user will need to install <a href='https://CRAN.R-project.org/package=oce'><span class="pkg">oce</span></a> from
github.com/dankelley/oce, not from CRAN.</p>
    </div>

    <pre class="usage"><span class='fu'>useAdjusted</span><span class='op'>(</span><span class='va'>argo</span>, which <span class='op'>=</span> <span class='st'>"all"</span>, fallback <span class='op'>=</span> <span class='cn'>TRUE</span>, debug <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>argo</th>
      <td><p>an <code><a href='argoFloats-class.html'>argoFloats</a></code> object, as read by <code><a href='readProfiles.html'>readProfiles()</a></code>.</p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>a character vector (passed directly to
<code><a href='https://dankelley.github.io/oce/reference/preferAdjusted.html'>preferAdjusted()</a></code>, or its mimic) naming the items for which
(depending also on the value of <code>fallback</code>) adjusted values
are to be sought by future calls to <code><a href='[[,argoFloats-method.html'>[[,argoFloats-method</a></code>.
The short names are used, e.g. <code>which="oxygen"</code> means that
adjusted oxygen is to be returned in future calls
such as <code>argo[["oxygen"]]</code>.  The default,
<code>"all"</code>, means to  use adjusted values for any item in <code>argo</code>
that has adjusted values.</p></td>
    </tr>
    <tr>
      <th>fallback</th>
      <td><p>a logical value (passed directly to
<code><a href='https://dankelley.github.io/oce/reference/preferAdjusted.html'>preferAdjusted()</a></code> or its mimic) indicating whether to fall back
to unadjusted values for any data field in which the
adjusted values are all <code>NA</code>.  The default value, <code>TRUE</code>,
avoids a problem with biogeochemical fields, where adjustment
of any one field may lead to insertion of "adjusted" values for
other fields that consist of nothing more than <code>NA</code>s.</p></td>
    </tr>
    <tr>
      <th>debug</th>
      <td><p>an integer that, if positive, indicates that some debugging information
should be printed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If the version of <a href='https://CRAN.R-project.org/package=oce'><span class="pkg">oce</span></a> is lower than 1.3.0, <code>useAdjusted()</code>
reports an error.  Otherwise, it carries out its work by
applying <code><a href='https://dankelley.github.io/oce/reference/preferAdjusted.html'>preferAdjusted()</a></code> from the <a href='https://CRAN.R-project.org/package=oce'><span class="pkg">oce</span></a> to each
of the Argo objects stored within the <code>data</code> slot of <code>x</code>.</p>
<p>Although one might guess that adjusted data
are always be preferable to original data, this is not always
the case.  Indeed, it is common for the adjusted data to consist
entirely of <code>NA</code> values.  A careful analyst should study both
data streams, and should also read the processing notes
for any float (or float cycle) that is of particular interest.
See Reference 1 for more information on the process of
adding adjusted data to Argo files.</p>
<p><img src='figures/useAdjustedDiagram.png' width=455px alt="Figure: useAdjustedDiagram.png" fig.cap="hello" /></p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ol>
<li><p>Carval, Thierry, Bob Keeley, Yasushi Takatsuki, Takashi Yoshida, Stephen Loch Loch,
Claudia Schmid, and Roger Goldsmith. Argo User’s Manual V3.3. Ifremer, 2019.
<a href='https://doi.org/10.13155/29825'>https://doi.org/10.13155/29825</a>.</p></li>
</ol>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Dan Kelley and Jaimie Harbin</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/ArgoCanada/argoFloats'>argoFloats</a></span><span class='op'>)</span>
<span class='co'># Note that useAdjusted() requires oce version to be 1.3.0 or higher.</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/packageDescription.html'>packageVersion</a></span><span class='op'>(</span><span class='st'>"oce"</span><span class='op'>)</span> <span class='op'>&gt;=</span> <span class='st'>"1.3.0"</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>raw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='readProfiles.html'>readProfiles</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"SD5903586_001.nc"</span>, package<span class='op'>=</span><span class='st'>"argoFloats"</span><span class='op'>)</span><span class='op'>)</span>
    <span class='va'>adj</span> <span class='op'>&lt;-</span> <span class='fu'>useAdjusted</span><span class='op'>(</span><span class='va'>raw</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span>, mar<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='fl'>4</span>,<span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/hist.html'>hist</a></span><span class='op'>(</span><span class='va'>raw</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[[</span><span class='st'>"oxygen"</span><span class='op'>]</span><span class='op'>]</span>, xlab<span class='op'>=</span><span class='st'>"Raw Oxygen"</span>, ylab<span class='op'>=</span><span class='st'>"Frequency"</span>, main<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/hist.html'>hist</a></span><span class='op'>(</span><span class='va'>adj</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[[</span><span class='st'>"oxygen"</span><span class='op'>]</span><span class='op'>]</span>, xlab<span class='op'>=</span><span class='st'>"Adjusted Oxygen"</span>, ylab<span class='op'>=</span><span class='st'>"Frequency"</span>, main<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span><span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Of 1 profiles read, 1 has &gt;10% of BBP700 values with QC flag of 4, signalling bad data.</span>
#&gt; <span class='warning'>    The indices of the bad profiles are as follows.</span>
#&gt; <span class='warning'>    1</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Of 1 profiles read, 1 has &gt;10% of chlorophyllA values with QC flag of 4, signalling bad data.</span>
#&gt; <span class='warning'>    The indices of the bad profiles are as follows.</span>
#&gt; <span class='warning'>    1</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Of 1 profiles read, 1 has &gt;10% of oxygen values with QC flag of 4, signalling bad data.</span>
#&gt; <span class='warning'>    The indices of the bad profiles are as follows.</span>
#&gt; <span class='warning'>    1</span></div><div class='img'><img src='useAdjusted-1.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dan Kelley, Jaimie Harbin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


