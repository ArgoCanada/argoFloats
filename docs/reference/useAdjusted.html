<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Switch [[ and Plot to Focus on Adjusted Data, if Available — useAdjusted • argoFloats</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Switch [[ and Plot to Focus on Adjusted Data, if Available — useAdjusted"><meta property="og:description" content="useAdjusted returns a copy of an argoFloats object
within which the individual
oce::argo objects may have been modified so that future calls to
[[,argoFloats-method
or plot,argoFloats-method
will focus with
adjusted versions of the data. (Note that this modification cannot
be done for fields that lack adjusted values, so in such cases future
calls to
[[,argoFloats-method
or
plot,argoFloats-method
work with the unadjusted fields.)
The procedure is done profile by profile and parameter by parameter.
The fallback argument offers a way to ''fall back'' to unadjusted
values, depending on the data-mode (real-time, adjusted or delayed)
for individual items; see &amp;#8220;Details&amp;#8221;."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">argoFloats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/argoFloats.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/qc.html">Handling Quality Control Flags and Adjusted Data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ArgoCanada/argoFloats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Switch [[ and Plot to Focus on Adjusted Data, if Available</h1>
    <small class="dont-index">Source: <a href="https://github.com/ArgoCanada/argoFloats/blob/HEAD/R/adjusted.R" class="external-link"><code>R/adjusted.R</code></a></small>
    <div class="hidden name"><code>useAdjusted.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>useAdjusted</code> returns a copy of an <code><a href="argoFloats-class.html">argoFloats</a></code> object
within which the individual
<a href="https://dankelley.github.io/oce/reference/argo-class.html" class="external-link">oce::argo</a> objects may have been modified so that future calls to
<code><a href="sub-sub-argoFloats-method.html">[[,argoFloats-method</a></code>
or <code><a href="plot-argoFloats-method.html">plot,argoFloats-method</a></code>
will focus with
<em>adjusted</em> versions of the data. (Note that this modification cannot
be done for fields that lack adjusted values, so in such cases future
calls to
<code><a href="sub-sub-argoFloats-method.html">[[,argoFloats-method</a></code>
or
<code><a href="plot-argoFloats-method.html">plot,argoFloats-method</a></code>
work with the unadjusted fields.)
The procedure is done profile by profile and parameter by parameter.
The <code>fallback</code> argument offers a way to ''fall back'' to unadjusted
values, depending on the data-mode (real-time, adjusted or delayed)
for individual items; see “Details”.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">useAdjusted</span><span class="op">(</span><span class="va">argos</span>, fallback <span class="op">=</span> <span class="cn">FALSE</span>, debug <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>argos</dt>
<dd><p>an <code><a href="argoFloats-class.html">argoFloats</a></code> object, as read by <code><a href="readProfiles.html">readProfiles()</a></code>.</p></dd>


<dt>fallback</dt>
<dd><p>a logical value indicating whether to 'fall back' from
adjusted data to raw data for profiles that are in real-time mode.  By
default, <code>fallback</code> is <code>FALSE</code>, to focus entirely on
adjusted data.  See “Details”.</p></dd>


<dt>debug</dt>
<dd><p>an integer that controls whether debugging information is printed
during processing.  If <code>debug</code> is 0 or less, then no information is printed.
If it is 1 then minimal overall information is printed.  If it exceeds 1,
then information is printed for each Argo cycle contained in <code>argos</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>useAdjusted</code> returns an <code><a href="argoFloats-class.html">argoFloats</a></code> object that is similar to
its first argument, but which is set up so that future calls to
<code><a href="sub-sub-argoFloats-method.html">[[,argoFloats-method</a></code> or <code><a href="plot-argoFloats-method.html">plot,argoFloats-method</a></code></p>


<p>will focus on the "adjusted" data stream.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>There are two cases.  First, if <code>fallback</code> is <code>FALSE</code> (which the default)
then the focus switches entirely
to the adjusted data.  This improves the overall reliability of the results,
but at the cost of eliminating real-time data.  This is because the
adjusted fields for real-time data are set to <code>NA</code> as a matter of policy (see
section 2.2.5 of reference 1).</p>
<p>Wider data coverage is obtained  if <code>fallback</code> is <code>TRUE</code>.  In this
case, the focus is shifted to adjusted data <em>only if</em> the data-mode for
the individual profiles is <code>A</code> or <code>D</code>, indicating either Adjusted or
Delayed mode. Any profiles that are of the <code>R</code> (Realtime) data-mode are
left unaltered. This blending of adjusted and unadjusted data offers
improved spatial and temporal coverage, while reducing the overall
data quality, and so this approach should be used with caution. For more
on this function see section 3.4 of Kelley et. al (2021).</p>
    </div>
    <div id="references">
    <h2>References</h2>
    
<ol><li><p>Argo Data Management Team. "Argo User's Manual V3.4,"
January 20, 2021. <code>https://archimer.ifremer.fr/doc/00187/29825/</code></p></li>
<li><p>Kelley, D. E., Harbin, J., &amp; Richards, C. (2021). argoFloats: An R package for analyzing
Argo data. Frontiers in Marine Science, (8), 636922.
<a href="https://doi.org/10.3389/fmars.2021.635922" class="external-link">doi:10.3389/fmars.2021.635922</a></p></li>
</ol></div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley, Jaimie Harbin and Clark Richards</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ArgoCanada/argoFloats" class="external-link">argoFloats</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="st">"SD5903586_001.nc"</span></span></span>
<span class="r-in"><span><span class="va">raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="readProfiles.html">readProfiles</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="va">file</span>, package<span class="op">=</span><span class="st">"argoFloats"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Of 1 profiles read, 1 has &gt;10% of BBP700 values with QC flag of 4, signalling bad data.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     The indices of the bad profiles are as follows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     1</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Of 1 profiles read, 1 has &gt;10% of chlorophyllA values with QC flag of 4, signalling bad data.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     The indices of the bad profiles are as follows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     1</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Of 1 profiles read, 1 has &gt;10% of oxygen values with QC flag of 4, signalling bad data.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     The indices of the bad profiles are as follows.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     1</span>
<span class="r-in"><span><span class="va">adj</span> <span class="op">&lt;-</span> <span class="fu">useAdjusted</span><span class="op">(</span><span class="va">raw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Autoscale with adjusted values so frame shows both raw and adjusted.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">adj</span>, which<span class="op">=</span><span class="st">"profile"</span>, profileControl<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>parameter<span class="op">=</span><span class="st">"oxygen"</span><span class="op">)</span>, pch<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">raw</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"oxygen"</span><span class="op">]</span><span class="op">]</span>, <span class="va">raw</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"pressure"</span><span class="op">]</span><span class="op">]</span>, pch<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, pch<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Raw"</span>, <span class="st">"Adjusted"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="useAdjusted-1.png" alt="" width="672" height="672"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Jaimie Harbin.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

