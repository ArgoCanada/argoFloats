% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/misc.R
\name{useAdjusted}
\alias{useAdjusted}
\title{Switch [[ Focus to Adjusted data}
\usage{
useAdjusted(argo, which = "all", fallback = TRUE, debug = 0)
}
\arguments{
\item{argo}{an \code{\linkS4class{argoFloats}} object, as read by \code{\link[=readProfiles]{readProfiles()}}.}

\item{which}{a character vector (passed directly to
\code{preferAdjusted()}, or its mimic) naming the items for which
(depending also on the value of \code{fallback}) adjusted values
are to be sought by future calls to \code{\link{[[,argoFloats-method}}.
The short names are used, e.g. \code{which="oxygen"} means that
adjusted oxygen is to be returned in future calls
such as \code{argo[["oxygen"]]}.  The default,
\code{"all"}, means to  use adjusted values for any item in \code{argo}
that has adjusted values.}

\item{fallback}{a logical value (passed directly to
\code{preferAdjusted()} or its mimic) indicating whether to fall back
to unadjusted values for any data field in which the
adjusted values are all \code{NA}.  The default value, \code{TRUE},
avoids a problem with biogeochemical fields, where adjustment
of any one field may lead to insertion of "adjusted" values for
other fields that consist of nothing more than \code{NA}s.}

\item{debug}{an integer that, if positive, indicates that some debugging information
should be printed.}
}
\description{
This function returns a version of \code{x} for which the enclosed
\link[oce:argo-class]{oce::argo} objects are modified in a way that makes
future uses of \code{\link{[[,argoFloats-method}}
return the \emph{adjusted} data, not the original data.
\strong{NOTE:} For this to work, the version 1.3.0 or greater
of \CRANpkg{oce} must be installed, and, as of September 2020,
that means that the user will need to install \CRANpkg{oce} from
github.com/dankelley/oce, not from CRAN.
}
\details{
If the version of \CRANpkg{oce} is lower than 1.3.0, \code{useAdjusted()}
reports an error.  Otherwise, it carries out its work by
applying \code{preferAdjusted()} from the \CRANpkg{oce} to each
of the Argo objects stored within the \code{data} slot of \code{x}.

Although one might guess that adjusted data
are always be preferable to original data, this is not always
the case.  Indeed, it is common for the adjusted data to consist
entirely of \code{NA} values.  A careful analyst should study both
data streams, and should also read the processing notes
for any float (or float cycle) that is of particular interest.
See Reference 1 for more information on the process of
adding adjusted data to Argo files.

\if{html}{\figure{useAdjustedDiagram.png}{options: width=455px alt="Figure: useAdjustedDiagram.png" fig.cap="hello"}}
}
\examples{
library(argoFloats)
# Note that useAdjusted() requires oce version to be 1.3.0 or higher.
if (packageVersion("oce") >= "1.3.0") {
    raw <- readProfiles(system.file("extdata", "SD5903586_001.nc", package="argoFloats"))
    adj <- useAdjusted(raw)
    par(mfrow=c(1,2), mar=c(5,4,1,2))
    hist(raw[[1]][["oxygen"]], xlab="Raw Oxygen", ylab="Frequency", main=NULL)
    hist(adj[[1]][["oxygen"]], xlab="Adjusted Oxygen", ylab="Frequency", main=NULL)
}

}
\references{
\enumerate{
\item Carval, Thierry, Bob Keeley, Yasushi Takatsuki, Takashi Yoshida, Stephen Loch Loch,
Claudia Schmid, and Roger Goldsmith. Argo Userâ€™s Manual V3.3. Ifremer, 2019.
\url{https://doi.org/10.13155/29825}.
}
}
\author{
Dan Kelley and Jaimie Harbin
}
